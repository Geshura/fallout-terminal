<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cyberpunk Hack Terminal</title>
  <style>
    /* Reset i pe≈Çnoekranowy uk≈Çad */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      width: 100%;
      font-family: 'Courier New', monospace;
      background: linear-gradient(180deg, #0f011d, #1a0033);
      color: #00ffcc;
      display: flex;
      flex-direction: column;
    }

    h1 {
      color: #ff00ff;
      text-shadow: 0 0 10px #ff00ff;
      text-align: center;
      margin: 20px 0;
    }

    #game-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
    }

    button {
      background: none;
      color: #ff00ff;
      border: 2px solid #ff00ff;
      padding: 10px 30px;
      font-family: monospace;
      font-size: 1em;
      cursor: pointer;
      margin: 10px;
      box-shadow: 0 0 10px #ff00ff;
      transition: all 0.2s ease-in-out;
    }

    button:hover {
      background-color: #ff00ff;
      color: black;
      box-shadow: 0 0 20px #ff00ff;
    }

    #status {
      margin-top: 10px;
      font-size: 1em;
      color: #00ffcc;
    }

    #terminal {
      flex: 1;
      width: 100%;
      max-width: 1000px;
      background-color: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ffff;
      padding: 15px;
      margin-top: 10px;
      overflow-y: auto;
      box-shadow: 0 0 15px #00ffff;
      display: flex;
      flex-direction: column;
    }

    .line {
      cursor: pointer;
      padding: 4px;
      transition: 0.2s;
      font-size: 1em;
      word-break: break-word;
    }

    .line:hover {
      background-color: rgba(0, 255, 255, 0.2);
      color: #ffffff;
      text-shadow: 0 0 8px #00ffff;
    }

    #result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 1.2em;
      text-align: center;
    }

    .blink {
      animation: blink 1s step-start infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    @media (max-width: 600px) {
      .line {
        font-size: 0.9em;
      }

      button {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <h1>== CYBER-HACK INTERFACE ==</h1>

  <div id="game-container">
    <button onclick="startHack()">START</button>
    <div id="status"></div>
    <div id="terminal"></div>
    <div id="result" class="blink"></div>
  </div>

  <script>
    const terminal = document.getElementById("terminal");
    const result = document.getElementById("result");
    const status = document.getElementById("status");

    const WORD_LIST = [
      "VECTOR", "SYSTEM", "BREACH", "CYBERS", "ACCESS", "PROTON", "UPLOAD",
      "ZER0ED", "QUANTA", "STATIC", "OUTPUT", "MATRIX", "VIRUSX", "GAMBLE", "PYTHON", "FISSION"
    ];

    let password = "";
    let attempts = 4;
    let timer = null;
    let timeLeft = 30;
    let clicked = false;

    function startHack() {
      // Reset gry
      terminal.innerHTML = "";
      result.innerText = "";
      status.innerText = "";
      clicked = false;
      attempts = 4;
      timeLeft = 30;

      // Wybierz has≈Ço
      password = WORD_LIST[Math.floor(Math.random() * WORD_LIST.length)];
      const candidates = shuffle([...WORD_LIST]).slice(0, 7);

      if (!candidates.includes(password)) {
        candidates[Math.floor(Math.random() * candidates.length)] = password;
      }

      const lines = [];
      for (let i = 0; i < 18; i++) {
        let word = candidates[Math.floor(Math.random() * candidates.length)];
        let line = injectWord(randomCodeLine(), word);
        lines.push(line);
      }

      lines.forEach(line => {
        const div = document.createElement("div");
        div.classList.add("line");
        div.innerText = line;
        div.addEventListener("click", () => checkLine(line));
        terminal.appendChild(div);
      });

      updateStatus();
      timer = setInterval(() => {
        timeLeft--;
        updateStatus();
        if (timeLeft <= 0) {
          clearInterval(timer);
          endGame(false, ">>> CZAS MINƒÑ≈Å! <<<");
        }
      }, 1000);
    }

    function updateStatus() {
      status.innerText = `üïí Czas: ${timeLeft}s | üõ°Ô∏è Pr√≥by: ${attempts}`;
    }

    function injectWord(line, word) {
      const pos = Math.floor(Math.random() * (line.length - word.length));
      return line.slice(0, pos) + word + line.slice(pos + word.length);
    }

    function randomCodeLine() {
      const chars = "{}[]<>!@#$%^&*()_+=-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      let str = "";
      for (let i = 0; i < 34; i++) {
        str += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return str;
    }

    function checkLine(line) {
      if (clicked) return;

      const match = extractWord(line);
      if (!match) return;

      if (match === password) {
        clicked = true;
        clearInterval(timer);
        endGame(true, ">>> DOSTƒòP PRZYZNANY <<<");
      } else {
        attempts--;
        const score = getMatchingLetters(match, password);
        if (attempts <= 0) {
          clicked = true;
          clearInterval(timer);
          endGame(false, `>>> B≈ÅƒòDNE HAS≈ÅO! BY≈ÅO: ${password}`);
        } else {
          result.innerText = `‚úñ ${match} | Zgodnych znak√≥w: ${score}/6`;
          updateStatus();
        }
      }
    }

    function extractWord(line) {
      const regex = /[A-Z]{6}/;
      const found = line.match(regex);
      return found ? found[0] : null;
    }

    function getMatchingLetters(a, b) {
      let count = 0;
      for (let i = 0; i < 6; i++) {
        if (a[i] === b[i]) count++;
      }
      return count;
    }

    function endGame(success, message) {
      result.innerText = message;
      result.style.color = success ? "#00ff99" : "#ff0033";
      result.style.textShadow = `0 0 10px ${success ? "#00ff99" : "#ff0033"}`;
    }

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }
  </script>

</body>
</html>
